@model AuctionAddViewModel

@{
	ViewBag.Title = "Add";
}

<main class="form-container">
	<h1>Add an auction</h1>

	@using(Html.BeginForm("Add", method: FormMethod.Post, htmlAttributes: new { enctype = "multipart/form-data" }, controllerName: null))
	{
		@Html.AntiForgeryToken()
		@Html.ValidationSummary(excludePropertyErrors: true)

		<div class="form-group">
			@Html.LabelFor(x => x.Title)
			@Html.EditorFor(x => x.Title)
			@Html.ValidationMessageFor(x => x.Title)
		</div>

		<div class="form-group">
			@Html.LabelFor(x => x.DaysToEnd)
			@Html.DropDownListFor(x => x.DaysToEnd, Model.AvailableDaysToEnd)
			@Html.ValidationMessageFor(x => x.DaysToEnd)
		</div>

		<div class="form-group">
			@Html.LabelFor(x => x.Price)
			<span class="input-with-suffix">@Html.EditorFor(x => x.Price) PLN</span>
			@Html.ValidationMessageFor(x => x.Price)
		</div>

		<div class="form-group">
			@Html.LabelFor(x => x.CategoryId)
			@Html.DropDownListFor(x => x.CategoryId, Model.AvailableCategories, Resources.AddAuction_CategoryDropdownDefaultValue)
			@Html.ValidationMessageFor(x => x.CategoryId)
		</div>

		<div class="form-group">
			@Html.LabelFor(x => x.Photos)
			@Html.FileUploadFor(x => x.Photos, acceptFilter: "image/jpeg")
			@Html.ValidationMessageFor(x => x.Photos)
		</div>
		
		<div class="form-group-vertical">
			@Html.LabelFor(x => x.Description)
			@Html.EditorFor(x => x.Description, new { htmlAttributes = new
			{
				placeholder = @Resources.AddAuction_DescriptionPlaceholder
			}})
			@Html.ValidationMessageFor(x => x.Description)
		</div>

		<div class="submit-button-container">
			<input type="submit" value="@Resources.AddAuction_SubmitText" />
		</div>
	}
</main>

@section scripts
{
	<script src="~/Content/ckeditor/ckeditor.js"></script>
	<script>
		CKEDITOR.replace("Description", {
			contentsCss: '@Styles.Url("~/Content/css")',
			stylesSet: 'styles',
			disableNativeSpellChecker: false,
			linkShowTargetTab: false,
			removeButtons: 'Subscript,Superscript,Scayt,Anchor,SpecialChar,Format,About',
			toolbarGroups: [
				{ name: 'clipboard', groups: ['clipboard', 'undo'] },
				{ name: 'editing', groups: ['find', 'selection', 'editing'] },
				{ name: 'links', groups: ['links'] },
				{ name: 'insert', groups: ['insert'] },
				{ name: 'forms', groups: ['forms'] },
				{ name: 'tools', groups: ['tools'] },
				{ name: 'document', groups: ['mode', 'document', 'doctools'] },
				{ name: 'others', groups: ['others'] },
				'/',
				{ name: 'basicstyles', groups: ['basicstyles', 'cleanup'] },
				{ name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph'] },
				{ name: 'styles', groups: ['styles'] },
				{ name: 'colors', groups: ['colors'] },
				{ name: 'about', groups: ['about'] }
			]
		});

		CKEDITOR.stylesSet.add('styles', [
			{ name: 'Paragraph', element: 'p' },
			{ name: 'Heading 1', element: 'h1' },
			{ name: 'Heading 2', element: 'h2' },
			{ name: 'Heading 3', element: 'h3' },
			{ name: 'Heading 4', element: 'h4' },
			{
				name: 'Container',
				element: 'div',
				styles: {
					padding: '5px 10px',
					background: '#eee',
					border: '1px solid #ccc'
				}
			},
			{ name: 'Marker', element: 'mark' },
		]);
	</script>
}
